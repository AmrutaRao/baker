



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Declare, verify and execute microservices-based process flows with Baker - Baker</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.0284f74d.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../css/ing.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#declare-verify-and-execute-microservices-based-process-flows-with-baker" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="Baker" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Baker
            </span>
            <span class="md-header-nav__topic">
              
                Declare, verify and execute microservices-based process flows with Baker
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ing-bank/baker/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="Baker" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Baker
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ing-bank/baker/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    ing-bank/baker
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../sections/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../sections/concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Development Life Cycle
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Development Life Cycle
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/design-a-recipe/" title="Design a Recipe" class="md-nav__link">
      Design a Recipe
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/use-visualizations/" title="Use Visualizations" class="md-nav__link">
      Use Visualizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/implement-interactions/" title="Implement Interactions" class="md-nav__link">
      Implement Interactions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/bake-fire-events-and-inquiry/" title="Bake, Fire Events and Inquiry" class="md-nav__link">
      Bake, Fire Events and Inquiry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/test/" title="Test" class="md-nav__link">
      Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/configure/" title="Configure" class="md-nav__link">
      Configure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/monitor/" title="Monitor" class="md-nav__link">
      Monitor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/development-life-cycle/resolve-failed-recipe-instances/" title="Resolve Failed Recipes" class="md-nav__link">
      Resolve Failed Recipes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/main-abstractions/" title="Main Abstractions" class="md-nav__link">
      Main Abstractions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/execution-semantics/" title="Execution Semantics" class="md-nav__link">
      Execution Semantics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/baker-types-and-values/" title="Baker Types and Values" class="md-nav__link">
      Baker Types and Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/dsls/" title="Recipe DSLs" class="md-nav__link">
      Recipe DSLs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/runtime/" title="The Akka Based Runtime" class="md-nav__link">
      The Akka Based Runtime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/visualization/" title="Visualization" class="md-nav__link">
      Visualization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/event-listener/" title="Event Listener" class="md-nav__link">
      Event Listener
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/reference/stores/" title="Event Stores and Cluster Configuration" class="md-nav__link">
      Event Stores and Cluster Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Versions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Versions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/versions/baker-3-release-notes/" title="Release Notes v3" class="md-nav__link">
      Release Notes v3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/versions/baker-3/" title="Migration Guide v3" class="md-nav__link">
      Migration Guide v3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sections/versions/baker-2/" title="Migration Guide v2" class="md-nav__link">
      Migration Guide v2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../sections/feature-comparison/" title="Feature comparison" class="md-nav__link">
      Feature comparison
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#httpgithubcomnikolakasev-ing" title="http://github.com/nikolakasev | ING" class="md-nav__link">
    http://github.com/nikolakasev | ING
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symptoms-of-a-failing-restaurant" title="Symptoms of a Failing Restaurant" class="md-nav__link">
    Symptoms of a Failing Restaurant
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#symptoms-of-a-failing-microservices-architecture" title="Symptoms of a Failing (Microservices) Architecture" class="md-nav__link">
    Symptoms of a Failing (Microservices) Architecture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afraid-to-change-the-application-code" title="Afraid to change the application code" class="md-nav__link">
    Afraid to change the application code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functionality-breaks-unexpectedly" title="Functionality breaks unexpectedly" class="md-nav__link">
    Functionality breaks unexpectedly
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#slow-time-to-market" title="Slow time to market" class="md-nav__link">
    Slow time to market
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-turn-this-around" title="How to turn this around?" class="md-nav__link">
    How to turn this around?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simplify" title="Simplify" class="md-nav__link">
    Simplify
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#domain-specific-language-for-orchestration-flows" title="Domain Specific Language for orchestration flows" class="md-nav__link">
    Domain Specific Language for orchestration flows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#declarative" title="Declarative" class="md-nav__link">
    Declarative
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easy-to-change" title="Easy to change" class="md-nav__link">
    Easy to change
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reuse" title="Reuse" class="md-nav__link">
    Reuse
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recipes" title="Recipes" class="md-nav__link">
    Recipes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactions" title="Interactions" class="md-nav__link">
    Interactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ingredients" title="Ingredients" class="md-nav__link">
    Ingredients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" title="Events" class="md-nav__link">
    Events
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#communicate" title="Communicate" class="md-nav__link">
    Communicate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visualize-your-code" title="Visualize your code" class="md-nav__link">
    Visualize your code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-it-understand-as-well" title="Non-IT understand as well" class="md-nav__link">
    Non-IT understand as well
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reason-about-comfortably" title="Reason About Comfortably" class="md-nav__link">
    Reason About Comfortably
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-time" title="Design-time" class="md-nav__link">
    Design-time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-time" title="Run-time" class="md-nav__link">
    Run-time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#under-the-hood" title="Under the Hood" class="md-nav__link">
    Under the Hood
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-scala" title="Why Scala?" class="md-nav__link">
    Why Scala?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-akka" title="Why Akka?" class="md-nav__link">
    Why Akka?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-petri-net3" title="Why Petri net?^3" class="md-nav__link">
    Why Petri net?^3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" title="Best Practices" class="md-nav__link">
    Best Practices
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#short-lived-vs-long-running-flows" title="Short-lived vs. long-running flows" class="md-nav__link">
    Short-lived vs. long-running flows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-is-taken-care-of" title="State is taken care of:" class="md-nav__link">
    State is taken care of:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-baker-inside-of-your-api" title="Run Baker inside of your API" class="md-nav__link">
    Run Baker inside of your API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#smart-endpoints-and-dumb-pipes" title=""Smart endpoints and dumb pipes"" class="md-nav__link">
    "Smart endpoints and dumb pipes"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-failure-occurs" title="When failure occurs:" class="md-nav__link">
    When failure occurs:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#httpsgithubcoming-bankbaker" title="https://github.com/ing-bank/baker" class="md-nav__link">
    https://github.com/ing-bank/baker
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ing-bank/baker/edit/master/docs/archive/presentations/muCon-London-7-Nov-2017.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="declare-verify-and-execute-microservices-based-process-flows-with-baker">Declare, verify and execute microservices-based process flows with Baker</h1>
<h3 id="httpgithubcomnikolakasev-ing">http://github.com/nikolakasev | ING</h3>
<hr />
<p><img alt="" src="../baby.jpg" /></p>
<hr />
<p><img alt="" src="../situation.jpg" /></p>
<hr />
<p><img alt="" src="../poffertjes.jpeg" /></p>
<hr />
<h2 id="symptoms-of-a-failing-restaurant">Symptoms of a Failing Restaurant</h2>
<hr />
<p><img alt="" src="../slow.jpg" /></p>
<hr />
<p><img alt="" src="../garbage.jpg" /></p>
<hr />
<p><img alt="" src="../enjoyable.jpg" /></p>
<hr />
<h2 id="symptoms-of-a-failing-microservices-architecture">Symptoms of a Failing (Microservices) Architecture</h2>
<hr />
<p><img alt="original" src="../afraid.jpg" /></p>
<h2 id="afraid-to-change-the-application-code">Afraid to change the application code</h2>
<hr />
<p><img alt="original" src="../breaks.jpg" /></p>
<h2 id="functionality-breaks-unexpectedly">Functionality breaks unexpectedly</h2>
<hr />
<p><img alt="original" src="../time-to-market.jpg" /></p>
<h2 id="slow-time-to-market">Slow time to market</h2>
<hr />
<h2 id="how-to-turn-this-around">How to turn this around?</h2>
<hr />
<p><img alt="" src="../gordon-ramsay.jpg" /></p>
<hr />
<p><img alt="" src="../simplify.jpg" /></p>
<hr />
<p><img alt="" src="../fresh.jpg" /></p>
<hr />
<p><img alt="" src="../communicate.jpg" /></p>
<hr />
<p><img alt="" src="../baker-github.png" /></p>
<hr />
<p><img alt="left" src="../simplify.jpg" /></p>
<h2 id="simplify">Simplify</h2>
<h3 id="domain-specific-language-for-orchestration-flows">Domain Specific Language for orchestration flows</h3>
<h3 id="declarative">Declarative</h3>
<h3 id="easy-to-change">Easy to change</h3>
<hr />
<p><img alt="left" src="../fresh.jpg" /></p>
<h2 id="reuse">Reuse</h2>
<h3 id="recipes">Recipes</h3>
<h3 id="interactions">Interactions</h3>
<h3 id="ingredients">Ingredients</h3>
<h3 id="events">Events</h3>
<hr />
<p><img alt="left" src="../communicate.jpg" /></p>
<h2 id="communicate">Communicate</h2>
<h3 id="visualize-your-code">Visualize your code</h3>
<h3 id="non-it-understand-as-well">Non-IT understand as well</h3>
<h3 id="reason-about-comfortably">Reason About Comfortably</h3>
<hr />
<h2 id="design-time">Design-time</h2>
<hr />
<p>```[.highlight: 1,6,7]
public interface RegisterIndividual extends Interaction {
    @FiresEvent(oneOf = {RegisterIndividualSuccessful.class,
            RegisterIndividualFailed.class})
    RegisterIndividualOutcome apply(
            @recipeInstanceId String recipeInstanceId,
            @RequiresIngredient("name") String name,
            @RequiresIngredient("address") String address
    );
}</p>
<div class="codehilite"><pre><span></span><span class="c1">---</span>

<span class="err">```</span><span class="o">[</span><span class="n">.highlight: 2,3</span><span class="o">]</span><span class="w"></span>
<span class="k">public</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">RegisterIndividual</span><span class="w"> </span><span class="n">extends</span><span class="w"> </span><span class="n">Interaction</span><span class="w"> </span><span class="err">{</span><span class="w"></span>
<span class="w">    </span><span class="nv">@FiresEvent</span><span class="p">(</span><span class="n">oneOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="n">RegisterIndividualSuccessful</span><span class="p">.</span><span class="k">class</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">RegisterIndividualFailed</span><span class="p">.</span><span class="k">class</span><span class="err">}</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">RegisterIndividualOutcome</span><span class="w"> </span><span class="n">apply</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="nv">@recipeInstanceId</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">recipeInstanceId</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nv">@RequiresIngredient</span><span class="p">(</span><span class="ss">&quot;name&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nv">@RequiresIngredient</span><span class="p">(</span><span class="ss">&quot;address&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">address</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>
<span class="err">}</span><span class="w"></span>
</pre></div>

<hr />
<p><img alt="" src="../individual.png" /></p>
<hr />
<p><img alt="" src="../account.png" /></p>
<hr />
<p><img alt="" src="../assign.png" /></p>
<hr />
<p>```java, [.highlight: 3-6]
public Recipe get(){
    return new Recipe("MuConf2017Demo").
            withInteractions(
                    of(AssignAccount.class),
                    of(GetAccount.class),
                    of(RegisterIndividual.class));
}
<div class="codehilite"><pre><span></span><span class="o">---</span>

<span class="o">!</span>[<span class="nv">fit</span>]<span class="ss">(</span><span class="nv">recipe</span><span class="o">-</span><span class="nv">no</span><span class="o">-</span><span class="nv">sensory</span>.<span class="nv">png</span><span class="ss">)</span>

<span class="o">---</span>

```<span class="nv">java</span>, [.<span class="nv">highlight</span>: <span class="mi">5</span>, <span class="mi">7</span><span class="o">-</span><span class="mi">9</span>]
<span class="k">return</span> <span class="nv">new</span> <span class="nv">Recipe</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">MuConf2017Demo</span><span class="s2">&quot;</span><span class="ss">)</span>.
        <span class="nv">withInteractions</span><span class="ss">(</span>
                <span class="nv">of</span><span class="ss">(</span><span class="nv">AssignAccount</span>.<span class="nv">class</span><span class="ss">)</span>,
                <span class="nv">of</span><span class="ss">(</span><span class="nv">GetAccount</span>.<span class="nv">class</span><span class="ss">)</span>.
                        <span class="nv">withRequiredEvent</span><span class="ss">(</span><span class="nv">TermsAndConditionsAccepted</span>.<span class="nv">class</span><span class="ss">)</span>,
                <span class="nv">of</span><span class="ss">(</span><span class="nv">RegisterIndividual</span>.<span class="nv">class</span><span class="ss">))</span>.
        <span class="nv">withSensoryEvents</span><span class="ss">(</span>
                <span class="nv">TermsAndConditionsAccepted</span>.<span class="nv">class</span>,
                <span class="nv">IndividualInformationSubmitted</span>.<span class="nv">class</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div></p>
<hr />
<p><img alt="fit" src="../recipe.png" /></p>
<hr />
<h2 id="run-time">Run-time</h2>
<hr />
<p>```java, [.highlight: 2,4,5,8,9,13]
//for each process instance, bake the recipe
baker.bake(recipeInstanceId);
//notify Baker when events occur
baker.processEvent(recipeInstanceId, new SensoryEvents.IndividualInformationSubmitted(name, address));
baker.processEvent(recipeInstanceId, new SensoryEvents.TermsAndConditionsAccepted());</p>
<p>//retrieve ingredients stored in the accumulated state
assert(baker.getIngredients(recipeInstanceId).get("customerId").equals(customerId));
assert(baker.getIngredients(recipeInstanceId).get("iban").equals(iban));</p>
<p>//retrieve all events that have occurred
Set<String> occurredEvents = new HashSet&lt;&gt;(
        baker.getEvents(recipeInstanceId).getEventNameList()
);
```</p>
<hr />
<p><img alt="fit" src="../end-state.png" /></p>
<hr />
<h2 id="under-the-hood">Under the Hood</h2>
<hr />
<h3 id="why-scala">Why Scala?</h3>
<ul>
<li>Best fit for developing DSLs<a href="https://martinfowler.com/books/dsl.html">^1</a> on the JVM</li>
<li>Compile-time recipe validation</li>
<li>Type safety</li>
</ul>
<hr />
<h3 id="why-akka">Why Akka?</h3>
<ul>
<li>Event Sourcing<a href="http://martinfowler.com/eaaDev/EventSourcing.html">^2</a> (events can be replayed)</li>
<li>Persistent actors (with Cassandra)</li>
<li>Distributed actors across machines (with cluster sharding)</li>
</ul>
<hr />
<h3 id="why-petri-net3">Why Petri net?<a href="https://en.wikipedia.org/wiki/Petri_net">^3</a></h3>
<hr />
<p><img alt="" src="../reachability.png" /></p>
<hr />
<p><img alt="" src="../unreachable.png" /></p>
<hr />
<p><img alt="" src="../dead-code.png" /></p>
<hr />
<p><img alt="" src="../path.png" /></p>
<hr />
<p><img alt="" src="../bottleneck.png" /></p>
<hr />
<h2 id="best-practices">Best Practices</h2>
<hr />
<h3 id="short-lived-vs-long-running-flows">Short-lived vs. long-running flows</h3>
<hr />
<h3 id="state-is-taken-care-of">State is taken care of:</h3>
<ul>
<li>Cassandra for persistent storage</li>
<li>Ingredients encrypted by default</li>
<li>State recovered automatically</li>
</ul>
<hr />
<h3 id="run-baker-inside-of-your-api">Run Baker inside of your API</h3>
<h3 id="smart-endpoints-and-dumb-pipes">"Smart endpoints and dumb pipes"</h3>
<hr />
<h3 id="when-failure-occurs">When failure occurs:</h3>
<ul>
<li>Baker retries technical failures with exponential backoff</li>
<li>Works well with <strong>idempotent</strong> services</li>
<li>Deal with functional failure in your recipe</li>
</ul>
<hr />
<p>Baker Capability Matrix:</p>
<ul>
<li>Investigate not one, not two, but <strong>all business processes</strong> in your company</li>
<li>Where do you see re-use?</li>
<li>Map using MoSCoW<a href="https://en.wikipedia.org/wiki/MoSCoW_method">^4</a> to give importance (M = 10, S = 5, C = 2, W = 1)</li>
</ul>
<hr />
<table>
<thead>
<tr>
<th align="left">Checking Account</th>
<th align="center">Savings Account</th>
<th align="right">Customer Onboarding</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Verify Identity</td>
<td align="center">Verify Identity</td>
<td align="right">Verify Identity</td>
</tr>
<tr>
<td align="left">Register Individual</td>
<td align="center">Register Individual</td>
<td align="right">Register Individual</td>
</tr>
<tr>
<td align="left">Open <em>Checking</em> Account</td>
<td align="center">Open <em>Savings</em> Account</td>
<td align="right"><code>n/a</code></td>
</tr>
<tr>
<td align="left">Issue Debit Card</td>
<td align="center"><code>n/a</code></td>
<td align="right"><code>n/a</code></td>
</tr>
<tr>
<td align="left">Send Message</td>
<td align="center">Send Message</td>
<td align="right">Send Message</td>
</tr>
<tr>
<td align="left">Register Product Owner</td>
<td align="center">Register Product Owner</td>
<td align="right"><code>n/a</code></td>
</tr>
</tbody>
</table>
<hr />
<p><img alt="" src="../call-to-action.jpg" /></p>
<h2 id="httpsgithubcoming-bankbaker">https://github.com/ing-bank/baker</h2>
<hr />
<p><img alt="" src="../pbt.png" /></p>
<hr />
<p>Speed of change matters to anyone building software. Many engineering teams have identified Microservices as an important component of this architectural approach to designing more flexible systems that can meet the needs of their fast changing businesses. Applying this approach however, is hard. And ideas and practices are still very much evolving. To help with that, we've launched muCon - a conference to learn about emerging technologies and approaches, share challenges and evolve practices and ideas.</p>
<hr />
<p>Their applications are built on top of microservices. If there careful enough their application serve bad meals. </p>
<p>If we are building microservices or a monolith or any type of service in general we are serving business logic to our clients. So no matter what we can not escape the architectural discussion.
If we are not careful of how we architect our applications we end up serving bad meals.</p>
<hr />
<p><strong>I love cooking food</strong> and for the rest of the talk I'll be using analogies from there. It's very <strong>similar to our industry</strong>: long hours, hard work, and delivering experiences to our customers.</p>
<p>Have you been woken up at 3 o'clock in the morning on a <strong>Saturday morning</strong> after a night of partying, having to go to the war room and resolve an application incident. I've been there. When I remember the cold of the <strong>airconditioners</strong>, it still <strong>makes me shiver</strong>.</p>
<p>If we are building microservices or a monolith or any type of application in general we are <strong>serving business logic to our clients</strong>. So no matter what, we cannot escape the <strong>architectural discussion</strong>. If we are not careful of how we architect our applications we end up serving a bad meal to our clients.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>